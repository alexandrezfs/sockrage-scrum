<div class="page-header">
    <h1>Create</h1>
</div>

<form class="form-inline" role="form" name="createScrumItemForm" novalidate>
    <div class="form-group">
        <input type="text" placeholder="Description" class="form-control" ng-model="scrumItem.task_description"
               required>
    </div>
    <div class="form-group">
        <input type="text" placeholder="Owner" class="form-control" ng-model="scrumItem.owner" required>
    </div>
    <div class="form-group">
        <input type="number" placeholder="Time Estimate" class="form-control" ng-model="scrumItem.time_estimate" required>
    </div>
    <div class="form-group">
        <button ng-click="addScrumItem(scrumItem)" class="btn btn-primary margin-top-1">Create</button>
    </div>
</form>

<div class="page-header">
    <h1>List</h1>
</div>

<table class="table table-striped" ng-if="scrumItems.length > 0">

    <thead>
    <tr>
        <td>ID</td>
        <td>Task</td>
        <td>Owner</td>
        <td>Time Estimate</td>
        <td>Time Reported</td>
        <td>State</td>
        <td>Options</td>
    </tr>
    </thead>

    <tbody>
    <tr ng:repeat="item in scrumItems">
        <td>{{ item._id }}</td>
        <td>{{ item.task_description }}</td>
        <td>{{ item.owner }}</td>
        <td>{{ item.time_estimate }}</td>
        <td>{{ item.time_reported | date:'medium'}}</td>
        <td>
            <span ng-class="{'To do' : 'label label-primary', 'Checkout' : 'label label-primary', 'To do' : 'label label-danger', 'Done' : 'label label-success'}[item.state]">{{ item.state }}</span>
        </td>
        <td>
            <button ng-click="openUpdateModalWindow(item)" class="btn btn-primary" data-toggle="modal" data-target="#modalUpdateScrumItem">Update</button>
            <button ng-click="deleteScrumItem(item._id)" class="btn btn-danger">Remove</button>
        </td>
    </tr>
    </tbody>

</table>

<div ng-if="scrumItems.length == 0">
    <p class="lead">No scrum item to show</p>
</div>

<!-- Modal -->
<div class="modal fade" id="modalUpdateScrumItem" tabindex="-1" role="dialog" aria-labelledby="modalUpdateScrumItemLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="modalUpdateScrumItemLabel"></h4>
            </div>
            <div class="modal-body" id="update-scrum-modal">
                <form role="form" name="updateScrumItemForm" novalidate>
                    <div class="form-group">
                        <label for="taskDescriptionUpdate">Description</label>
                        <input type="text" id="taskDescriptionUpdate" placeholder="Description" class="form-control" ng-model="scrumItemToUpdate.task_description"
                               required>
                    </div>
                    <div class="form-group">
                        <label for="ownerUpdate">Owner</label>
                        <input type="text" id="ownerUpdate" placeholder="Owner" class="form-control" ng-model="scrumItemToUpdate.owner" required>
                    </div>
                    <div class="form-group">
                        <label for="timeEstimateUpdate">Time Estimate</label>
                        <input type="number" id="timeEstimateUpdate" placeholder="Time Estimate" class="form-control" ng-model="scrumItemToUpdate.time_estimate" required>
                    </div>
                    <div class="form-group">
                        <label for="stateUpdate">State</label>
                        <select id="stateUpdate" ng-model="scrumItemToUpdate.state" class="form-control">
                            <option>To do</option>
                            <option>Checkout</option>
                            <option>Done</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button ng-click="updateScrumItem(scrumItemToUpdate)" class="btn btn-primary margin-top-1">Update</button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>